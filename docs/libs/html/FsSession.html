<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<title>FsSession</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="index.html" title="Farsight2 Reference Manual">
<link rel="up" href="ch02.html" title="Farsight Core Library">
<link rel="prev" href="FsParticipant.html" title="FsParticipant">
<link rel="next" href="FsStream.html" title="FsStream">
<meta name="generator" content="GTK-Doc V1.8 (XML mode)">
<link rel="stylesheet" href="style.css" type="text/css">
<link rel="part" href="pt01.html" title="Part&#160;I.&#160;User-oriented classes, interfaces and functions">
<link rel="chapter" href="ch01.html" title="Farsight GStreamer Interfaces">
<link rel="chapter" href="ch02.html" title="Farsight Core Library">
<link rel="chapter" href="ch03.html" title="Farsight Utility Functions and Objects">
<link rel="part" href="pt02.html" title="Part&#160;II.&#160;Classes used implements Farsight plugins">
<link rel="chapter" href="ch04.html" title="Farsight GStreamer Base Implementations">
<link rel="chapter" href="ch05.html" title="Farsight Transmitter objects">
<link rel="chapter" href="ch06.html" title="Farsight Plugins infrastructure">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table class="navigation" id="top" width="100%" summary="Navigation header" cellpadding="2" cellspacing="2">
<tr valign="middle">
<td><a accesskey="p" href="FsParticipant.html"><img src="left.png" width="24" height="24" border="0" alt="Prev"></a></td>
<td><a accesskey="u" href="ch02.html"><img src="up.png" width="24" height="24" border="0" alt="Up"></a></td>
<td><a accesskey="h" href="index.html"><img src="home.png" width="24" height="24" border="0" alt="Home"></a></td>
<th width="100%" align="center">Farsight2 Reference Manual</th>
<td><a accesskey="n" href="FsStream.html"><img src="right.png" width="24" height="24" border="0" alt="Next"></a></td>
</tr>
<tr><td colspan="5" class="shortcuts"><nobr><a href="#id2590245" class="shortcut">Top</a>
                  &#160;|&#160;
                  <a href="#id2596956" class="shortcut">Description</a>
                  &#160;|&#160;
                  <a href="#id2592505" class="shortcut">Object Hierarchy</a>
                  &#160;|&#160;
                  <a href="#id2592529" class="shortcut">Properties</a>
                  &#160;|&#160;
                  <a href="#id2596920" class="shortcut">Signals</a></nobr></td></tr>
</table>
<div class="refentry" lang="en">
<a name="FsSession"></a><div class="titlepage"></div>
<div class="refnamediv"><table width="100%"><tr>
<td valign="top">
<h2>
<a name="id2590245"></a><span class="refentrytitle">FsSession</span>
</h2>
<p>FsSession &#8212; A session in a conference</p>
</td>
<td valign="top" align="right"></td>
</tr></table></div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<pre class="synopsis">



enum                <a class="link" href="FsSession.html#FsDTMFEvent">FsDTMFEvent</a>;
enum                <a class="link" href="FsSession.html#FsDTMFMethod">FsDTMFMethod</a>;
                    <a class="link" href="FsSession.html#FsSession-struct">FsSession</a>;
                    <a class="link" href="FsSession.html#FsSessionClass">FsSessionClass</a>;
<a class="link" href="FsStream.html" title="FsStream">FsStream</a>*           <a class="link" href="FsSession.html#fs-session-new-stream">fs_session_new_stream</a>               (<a class="link" href="FsSession.html" title="FsSession">FsSession</a> *session,
                                                         <a class="link" href="FsParticipant.html" title="FsParticipant">FsParticipant</a> *participant,
                                                         <a class="link" href="FsStream.html#FsStreamDirection">FsStreamDirection</a> direction,
                                                         const <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"
>gchar</a> *transmitter,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"
>guint</a> stream_transmitter_n_parameters,
                                                         <a
href="/usr/share/gtk-doc/html/gobject/gobject-The-Base-Object-Type.html#GParameter"
>GParameter</a> *stream_transmitter_parameters,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"
>GError</a> **error);
<a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a>            <a class="link" href="FsSession.html#fs-session-start-telephony-event">fs_session_start_telephony_event</a>    (<a class="link" href="FsSession.html" title="FsSession">FsSession</a> *session,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint8"
>guint8</a> event,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint8"
>guint8</a> volume,
                                                         <a class="link" href="FsSession.html#FsDTMFMethod">FsDTMFMethod</a> method);
<a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a>            <a class="link" href="FsSession.html#fs-session-stop-telephony-event">fs_session_stop_telephony_event</a>     (<a class="link" href="FsSession.html" title="FsSession">FsSession</a> *session,
                                                         <a class="link" href="FsSession.html#FsDTMFMethod">FsDTMFMethod</a> method);
<a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a>            <a class="link" href="FsSession.html#fs-session-set-send-codec">fs_session_set_send_codec</a>           (<a class="link" href="FsSession.html" title="FsSession">FsSession</a> *session,
                                                         <a class="link" href="farsight-libs-FsCodec.html#FsCodec">FsCodec</a> *send_codec,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"
>GError</a> **error);
void                <a class="link" href="FsSession.html#fs-session-emit-error">fs_session_emit_error</a>               (<a class="link" href="FsSession.html" title="FsSession">FsSession</a> *session,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"
>gint</a> error_no,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"
>gchar</a> *error_msg,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"
>gchar</a> *debug_msg);

</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2592505"></a><h2>Object Hierarchy</h2>
<pre class="synopsis">

  <a
href="/usr/share/gtk-doc/html/gobject/gobject-The-Base-Object-Type.html#GObject"
>GObject</a>
   +----FsSession
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2592529"></a><h2>Properties</h2>
<pre class="synopsis">

  "<a class="link" href="FsSession.html#FsSession--current-send-codec">current-send-codec</a>"       <a class="link" href="farsight-libs-FsCodec.html#FsCodec">FsCodec</a>               : Read
  "<a class="link" href="FsSession.html#FsSession--id">id</a>"                       <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"
>guint</a>                 : Read / Write / Construct Only
  "<a class="link" href="FsSession.html#FsSession--local-codecs">local-codecs</a>"             FsCodecGList          : Read
  "<a class="link" href="FsSession.html#FsSession--local-codecs-config">local-codecs-config</a>"      FsCodecGList          : Read / Write
  "<a class="link" href="FsSession.html#FsSession--media-type">media-type</a>"               <a class="link" href="farsight-libs-FsCodec.html#FsMediaType">FsMediaType</a>           : Read / Write / Construct Only
  "<a class="link" href="FsSession.html#FsSession--negotiated-codecs">negotiated-codecs</a>"        FsCodecGList          : Read
  "<a class="link" href="FsSession.html#FsSession--sink-pad">sink-pad</a>"                 <a
href="/usr/share/gtk-doc/html/gstreamer/GstPad.html"
>GstPad</a>                : Read
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2596920"></a><h2>Signals</h2>
<pre class="synopsis">

  "<a class="link" href="FsSession.html#FsSession-error">error</a>"                                          : Run Last
  "<a class="link" href="FsSession.html#FsSession-new-negotiated-codecs">new-negotiated-codecs</a>"                          : Run Last
  "<a class="link" href="FsSession.html#FsSession-send-codec-changed">send-codec-changed</a>"                             : Run Last
</pre>
</div>
<div class="refsect1" lang="en">
<a name="id2596956"></a><h2>Description</h2>
<p>
This object is the base implementation of a Farsight Session. It needs to be
derived and implemented by a farsight conference gstreamer element. A
Farsight session is defined in the same way as an RTP session. It can contain
one or more participants but represents only one media stream (i.e. One
session for video and one session for audio in an AV conference). Sessions
contained in the same conference will be synchronised together during
playback.</p>
<p>

</p>
</div>
<div class="refsect1" lang="en">
<a name="id2596983"></a><h2>Details</h2>
<div class="refsect2" lang="en">
<a name="id2596994"></a><h3>
<a name="FsDTMFEvent"></a>enum FsDTMFEvent</h3>
<a class="indexterm" name="id2597006"></a><pre class="programlisting">typedef enum
{
  FS_DTMF_EVENT_0 = 0,
  FS_DTMF_EVENT_1 = 1,
  FS_DTMF_EVENT_2 = 2,
  FS_DTMF_EVENT_3 = 3,
  FS_DTMF_EVENT_4 = 4,
  FS_DTMF_EVENT_5 = 5,
  FS_DTMF_EVENT_6 = 6,
  FS_DTMF_EVENT_7 = 7,
  FS_DTMF_EVENT_8 = 8,
  FS_DTMF_EVENT_9 = 9,
  FS_DTMF_EVENT_STAR = 10,
  FS_DTMF_EVENT_POUND = 11,
  FS_DTMF_EVENT_A = 12,
  FS_DTMF_EVENT_B = 13,
  FS_DTMF_EVENT_C = 14,
  FS_DTMF_EVENT_D = 15
} FsDTMFEvent;
</pre>
<p>
An enum that represents the different DTMF event that can be sent to a
<a class="link" href="FsSession.html" title="FsSession"><span class="type">FsSession</span></a>. The values corresponds those those defined in RFC 4733
The rest of the possibles values are in the IANA registry at:
http://www.iana.org/assignments/audio-telephone-event-registry</p>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2597043"></a><h3>
<a name="FsDTMFMethod"></a>enum FsDTMFMethod</h3>
<a class="indexterm" name="id2597056"></a><pre class="programlisting">typedef enum
{
  FS_DTMF_METHOD_AUTO = 0,
  FS_DTMF_METHOD_RTP_RFC4733,
  FS_DTMF_METHOD_IN_BAND
} FsDTMFMethod;
</pre>
<p>
An enum that represents the different ways a DTMF event can be sent</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><a name="FS-DTMF-METHOD-AUTO:CAPS"></a><code class="literal">FS_DTMF_METHOD_AUTO</code></span></p></td>
<td> Send in any possible way
</td>
</tr>
<tr>
<td><p><span class="term"><a name="FS-DTMF-METHOD-RTP-RFC4733:CAPS"></a><code class="literal">FS_DTMF_METHOD_RTP_RFC4733</code></span></p></td>
<td> Send as a special payload type defined by RFC 4733 
(which obsoletes RFC 2833)
</td>
</tr>
<tr>
<td><p><span class="term"><a name="FS-DTMF-METHOD-IN-BAND:CAPS"></a><code class="literal">FS_DTMF_METHOD_IN_BAND</code></span></p></td>
<td> Send as tones as in-band audio sound
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2597146"></a><h3>
<a name="FsSession-struct"></a>FsSession</h3>
<a class="indexterm" name="id2611979"></a><pre class="programlisting">typedef struct _FsSession FsSession;</pre>
<p>
All members are private, access them using methods and properties</p>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2611998"></a><h3>
<a name="FsSessionClass"></a>FsSessionClass</h3>
<a class="indexterm" name="id2612010"></a><pre class="programlisting">typedef struct {
  GObjectClass parent_class;

  /*virtual functions */
  FsStream *(* new_stream) (FsSession *session,
                            FsParticipant *participant,
                            FsStreamDirection direction,
                            const gchar *transmitter,
                            guint stream_transmitter_n_parameters,
                            GParameter *stream_transmitter_parameters,
                            GError **error);

  gboolean (* start_telephony_event) (FsSession *session, guint8 event,
                                      guint8 volume, FsDTMFMethod method);
  gboolean (* stop_telephony_event) (FsSession *session, FsDTMFMethod method);

  gboolean (* set_send_codec) (FsSession *session, FsCodec *send_codec,
                               GError **error);
} FsSessionClass;
</pre>
<p>
You must override at least new_stream in a subclass.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><a
href="/usr/share/gtk-doc/html/gobject/gobject-The-Base-Object-Type.html#GObjectClass"
>GObjectClass</a>&#160;<em class="structfield"><code>parent_class</code></em>;</span></p></td>
<td> Our parent
</td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code>new_stream</code></em>&#160;()</span></p></td>
<td> Create a new <a class="link" href="FsStream.html" title="FsStream"><span class="type">FsStream</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code>start_telephony_event</code></em>&#160;()</span></p></td>
<td> Starts a telephony event
</td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code>stop_telephony_event</code></em>&#160;()</span></p></td>
<td> Stops a telephony event
</td>
</tr>
<tr>
<td><p><span class="term"><em class="structfield"><code>set_send_codec</code></em>&#160;()</span></p></td>
<td> Forces sending with a specific codec
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2612099"></a><h3>
<a name="fs-session-new-stream"></a>fs_session_new_stream ()</h3>
<a class="indexterm" name="id2612110"></a><pre class="programlisting"><a class="link" href="FsStream.html" title="FsStream">FsStream</a>*           fs_session_new_stream               (<a class="link" href="FsSession.html" title="FsSession">FsSession</a> *session,
                                                         <a class="link" href="FsParticipant.html" title="FsParticipant">FsParticipant</a> *participant,
                                                         <a class="link" href="FsStream.html#FsStreamDirection">FsStreamDirection</a> direction,
                                                         const <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"
>gchar</a> *transmitter,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"
>guint</a> stream_transmitter_n_parameters,
                                                         <a
href="/usr/share/gtk-doc/html/gobject/gobject-The-Base-Object-Type.html#GParameter"
>GParameter</a> *stream_transmitter_parameters,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"
>GError</a> **error);</pre>
<p>
This function creates a stream for the given participant into the active session.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>session</code></em>&#160;:</span></p></td>
<td> an <a class="link" href="FsSession.html" title="FsSession"><span class="type">FsSession</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>participant</code></em>&#160;:</span></p></td>
<td> <a class="link" href="FsParticipant.html" title="FsParticipant"><span class="type">FsParticipant</span></a> of a participant for the new stream
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>direction</code></em>&#160;:</span></p></td>
<td> <a class="link" href="FsStream.html#FsStreamDirection"><span class="type">FsStreamDirection</span></a> describing the direction of the new stream that will
be created for this participant
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>transmitter</code></em>&#160;:</span></p></td>
<td> Name of the type of transmitter to use for this session
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>stream_transmitter_n_parameters</code></em>&#160;:</span></p></td>
<td> Number of parametrs passed to the stream
 transmitter
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>stream_transmitter_parameters</code></em>&#160;:</span></p></td>
<td> an array of n_parameters <a
href="/usr/share/gtk-doc/html/gobject/gobject-The-Base-Object-Type.html#GParameter"
><span class="type">GParameter</span></a> struct
 that will be passed
  to the newly-create <a class="link" href="FsStreamTransmitter.html" title="FsStreamTransmitter"><span class="type">FsStreamTransmitter</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> location of a <a
href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"
><span class="type">GError</span></a>, or <a
href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"
><code class="literal">NULL</code></a> if no error occured
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> the new <a class="link" href="FsStream.html" title="FsStream"><span class="type">FsStream</span></a> that has been created. User must unref the
<a class="link" href="FsStream.html" title="FsStream"><span class="type">FsStream</span></a> when the stream is ended. If an error occured, returns NULL.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2616886"></a><h3>
<a name="fs-session-start-telephony-event"></a>fs_session_start_telephony_event ()</h3>
<a class="indexterm" name="id2616898"></a><pre class="programlisting"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a>            fs_session_start_telephony_event    (<a class="link" href="FsSession.html" title="FsSession">FsSession</a> *session,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint8"
>guint8</a> event,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint8"
>guint8</a> volume,
                                                         <a class="link" href="FsSession.html#FsDTMFMethod">FsDTMFMethod</a> method);</pre>
<p>
This function will start sending a telephony event (such as a DTMF
tone) on the <a class="link" href="FsSession.html" title="FsSession"><span class="type">FsSession</span></a>. You have to call the function
<a class="link" href="FsSession.html#fs-session-stop-telephony-event"><code class="function">fs_session_stop_telephony_event()</code></a> to stop it. 
This function will use any available method, if you want to use a specific
method only, use <code class="function">fs_session_start_telephony_event_full()</code></p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>session</code></em>&#160;:</span></p></td>
<td> an <a class="link" href="FsSession.html" title="FsSession"><span class="type">FsSession</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>event</code></em>&#160;:</span></p></td>
<td> A <span class="type">FsStreamDTMFEvent</span> or another number defined at
http://www.iana.org/assignments/audio-telephone-event-registry
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>volume</code></em>&#160;:</span></p></td>
<td> The volume in dBm0 without the negative sign. Should be between
0 and 36. Higher values mean lower volume
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>method</code></em>&#160;:</span></p></td>
<td> The method used to send the event
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#TRUE:CAPS"
><code class="literal">TRUE</code></a> if sucessful, it can return <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#FALSE:CAPS"
><code class="literal">FALSE</code></a> if the <a class="link" href="FsStream.html" title="FsStream"><span class="type">FsStream</span></a>
does not support this telephony event.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2617080"></a><h3>
<a name="fs-session-stop-telephony-event"></a>fs_session_stop_telephony_event ()</h3>
<a class="indexterm" name="id2617092"></a><pre class="programlisting"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a>            fs_session_stop_telephony_event     (<a class="link" href="FsSession.html" title="FsSession">FsSession</a> *session,
                                                         <a class="link" href="FsSession.html#FsDTMFMethod">FsDTMFMethod</a> method);</pre>
<p>
This function will stop sending a telephony event started by
<a class="link" href="FsSession.html#fs-session-start-telephony-event"><code class="function">fs_session_start_telephony_event()</code></a>. If the event was being sent
for less than 50ms, it will be sent for 50ms minimum. If the
duration was a positive and the event is not over, it will cut it
short.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>session</code></em>&#160;:</span></p></td>
<td> an <a class="link" href="FsSession.html" title="FsSession"><span class="type">FsSession</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>method</code></em>&#160;:</span></p></td>
<td> The method used to send the event
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#TRUE:CAPS"
><code class="literal">TRUE</code></a> if sucessful, it can return <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#FALSE:CAPS"
><code class="literal">FALSE</code></a> if the <a class="link" href="FsSession.html" title="FsSession"><span class="type">FsSession</span></a>
does not support telephony events or if no telephony event is being sent
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2617211"></a><h3>
<a name="fs-session-set-send-codec"></a>fs_session_set_send_codec ()</h3>
<a class="indexterm" name="id2617222"></a><pre class="programlisting"><a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gboolean"
>gboolean</a>            fs_session_set_send_codec           (<a class="link" href="FsSession.html" title="FsSession">FsSession</a> *session,
                                                         <a class="link" href="farsight-libs-FsCodec.html#FsCodec">FsCodec</a> *send_codec,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"
>GError</a> **error);</pre>
<p>
This function will set the currently being sent codec for all streams in this
session. The given <a class="link" href="farsight-libs-FsCodec.html#FsCodec"><span class="type">FsCodec</span></a> must be taken directly from the <span class="type">negotiated-codecs</span>
property of the session. If the given codec is not in the negotiated codecs
list, <em class="parameter"><code>error</code></em> will be set and <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#FALSE:CAPS"
><code class="literal">FALSE</code></a> will be returned. The <em class="parameter"><code>send_codec</code></em> will be
copied so it must be free'd using <a class="link" href="farsight-libs-FsCodec.html#fs-codec-destroy"><code class="function">fs_codec_destroy()</code></a> when done.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>session</code></em>&#160;:</span></p></td>
<td> an <a class="link" href="FsSession.html" title="FsSession"><span class="type">FsSession</span></a>
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>send_codec</code></em>&#160;:</span></p></td>
<td> an <a class="link" href="farsight-libs-FsCodec.html#FsCodec"><span class="type">FsCodec</span></a> representing the codec to send
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error</code></em>&#160;:</span></p></td>
<td> location of a <a
href="/usr/share/gtk-doc/html/glib/glib-Error-Reporting.html#GError"
><span class="type">GError</span></a>, or <a
href="/usr/share/gtk-doc/html/liboil/liboil-liboiljunk.html#NULL:CAPS"
><code class="literal">NULL</code></a> if no error occured
</td>
</tr>
<tr>
<td><p><span class="term"><span class="emphasis"><em>Returns</em></span>&#160;:</span></p></td>
<td> <a
href="/usr/share/gtk-doc/html/glib/glib-Standard-Macros.html#FALSE:CAPS"
><code class="literal">FALSE</code></a> if the send codec couldn't be set.
</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2617394"></a><h3>
<a name="fs-session-emit-error"></a>fs_session_emit_error ()</h3>
<a class="indexterm" name="id2617405"></a><pre class="programlisting">void                fs_session_emit_error               (<a class="link" href="FsSession.html" title="FsSession">FsSession</a> *session,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"
>gint</a> error_no,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"
>gchar</a> *error_msg,
                                                         <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"
>gchar</a> *debug_msg);</pre>
<p>
This function emit the "error" signal on a <a class="link" href="FsSession.html" title="FsSession"><span class="type">FsSession</span></a>, it should only be
called by subclasses.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>session</code></em>&#160;:</span></p></td>
<td> <a class="link" href="FsSession.html" title="FsSession"><span class="type">FsSession</span></a> on which to emit the error signal
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error_no</code></em>&#160;:</span></p></td>
<td> The number of the error
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error_msg</code></em>&#160;:</span></p></td>
<td> Error message to be displayed to user
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>debug_msg</code></em>&#160;:</span></p></td>
<td> Debugging error message
</td>
</tr>
</tbody>
</table></div>
</div>
</div>
<div class="refsect1" lang="en">
<a name="id2617523"></a><h2>Property Details</h2>
<div class="refsect2" lang="en">
<a name="id2617533"></a><h3>
<a name="FsSession--current-send-codec"></a>The "<code class="literal">current-send-codec</code>" property</h3>
<a class="indexterm" name="id2617547"></a><pre class="programlisting">  "current-send-codec"       <a class="link" href="farsight-libs-FsCodec.html#FsCodec">FsCodec</a>               : Read</pre>
<p>
Indicates the currently active send codec. A user can change the active
send codec by calling <a class="link" href="FsSession.html#fs-session-set-send-codec"><code class="function">fs_session_set_send_codec()</code></a>. The send codec could
also be automatically changed by Farsight. In both cases the
::send-codec-changed signal will be emited. This property is an
<a class="link" href="farsight-libs-FsCodec.html#FsCodec"><span class="type">FsCodec</span></a>. User must free the codec using <a class="link" href="farsight-libs-FsCodec.html#fs-codec-destroy"><code class="function">fs_codec_destroy()</code></a> when done.
The <a class="link" href="FsSession.html#FsSession-send-codec-changed"><span class="type">FsSession::send-codec-changed</span></a> signal is emitted when the content
of this property changes.</p>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2617606"></a><h3>
<a name="FsSession--id"></a>The "<code class="literal">id</code>" property</h3>
<a class="indexterm" name="id2617619"></a><pre class="programlisting">  "id"                       <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#guint"
>guint</a>                 : Read / Write / Construct Only</pre>
<p>
The ID of the session, the first number of the pads linked to this session
will be this id</p>
<p>

</p>
<p>Default value: 0</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2617647"></a><h3>
<a name="FsSession--local-codecs"></a>The "<code class="literal">local-codecs</code>" property</h3>
<a class="indexterm" name="id2617660"></a><pre class="programlisting">  "local-codecs"             FsCodecGList          : Read</pre>
<p>
This is the list of local codecs that have been auto-detected based on
installed GStreamer plugins. This list is unchanged during the lifecycle of
the session unless local-codecs-config is changed by the user. It is a
<a
href="/usr/share/gtk-doc/html/glib/glib-Doubly-Linked-Lists.html#GList"
><span class="type">GList</span></a> of <a class="link" href="farsight-libs-FsCodec.html#FsCodec"><span class="type">FsCodec</span></a>. User must free this codec list using
<a class="link" href="farsight-libs-FsCodec.html#fs-codec-list-destroy"><code class="function">fs_codec_list_destroy()</code></a> when done.</p>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2617708"></a><h3>
<a name="FsSession--local-codecs-config"></a>The "<code class="literal">local-codecs-config</code>" property</h3>
<a class="indexterm" name="id2617722"></a><pre class="programlisting">  "local-codecs-config"      FsCodecGList          : Read / Write</pre>
<p>
This is the current configuration list for the local codecs. It is usually
set by the user to specify the codec options and priorities. The user may
change this value during an ongoing session. Note that doing this can cause
the local-codecs to be changed. Therefore this requires the user to fetch
the new local-codecs and renegotiate them with the peers. It is a <a
href="/usr/share/gtk-doc/html/glib/glib-Doubly-Linked-Lists.html#GList"
><span class="type">GList</span></a>
of <a class="link" href="farsight-libs-FsCodec.html#FsCodec"><span class="type">FsCodec</span></a>. User must free this codec list using <a class="link" href="farsight-libs-FsCodec.html#fs-codec-list-destroy"><code class="function">fs_codec_list_destroy()</code></a>
when done.</p>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2617773"></a><h3>
<a name="FsSession--media-type"></a>The "<code class="literal">media-type</code>" property</h3>
<a class="indexterm" name="id2617786"></a><pre class="programlisting">  "media-type"               <a class="link" href="farsight-libs-FsCodec.html#FsMediaType">FsMediaType</a>           : Read / Write / Construct Only</pre>
<p>
The media-type of the session. This is either Audio, Video or both.
This is a constructor parameter that cannot be changed.</p>
<p>

</p>
<p>Default value: FS_MEDIA_TYPE_AUDIO</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2617815"></a><h3>
<a name="FsSession--negotiated-codecs"></a>The "<code class="literal">negotiated-codecs</code>" property</h3>
<a class="indexterm" name="id2617830"></a><pre class="programlisting">  "negotiated-codecs"        FsCodecGList          : Read</pre>
<p>
This list indicated what codecs have been successfully negotiated with the
session participants. This list can change based on participants
joining/leaving the session. It is a <a
href="/usr/share/gtk-doc/html/glib/glib-Doubly-Linked-Lists.html#GList"
><span class="type">GList</span></a> of <a class="link" href="farsight-libs-FsCodec.html#FsCodec"><span class="type">FsCodec</span></a>. User must free
this codec list using <a class="link" href="farsight-libs-FsCodec.html#fs-codec-list-destroy"><code class="function">fs_codec_list_destroy()</code></a> when done.
The <a class="link" href="FsSession.html#FsSession-new-negotiated-codecs"><span class="type">FsSession::new-negotiated-codecs</span></a> signal is emited when the content
of this property changes.</p>
<p>

</p>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2617885"></a><h3>
<a name="FsSession--sink-pad"></a>The "<code class="literal">sink-pad</code>" property</h3>
<a class="indexterm" name="id2617898"></a><pre class="programlisting">  "sink-pad"                 <a
href="/usr/share/gtk-doc/html/gstreamer/GstPad.html"
>GstPad</a>                : Read</pre>
<p>
The Gstreamer sink pad that must be used to send media data on this
session. User must unref this GstPad when done with it.</p>
<p>

</p>
</div>
</div>
<div class="refsect1" lang="en">
<a name="id2617924"></a><h2>Signal Details</h2>
<div class="refsect2" lang="en">
<a name="id2617933"></a><h3>
<a name="FsSession-error"></a>The "error" signal</h3>
<a class="indexterm" name="id2617940"></a><pre class="programlisting">void                user_function                      (<a class="link" href="FsSession.html" title="FsSession">FsSession</a> *self,
                                                        <a
href="/usr/share/gtk-doc/html/gobject/gobject-The-Base-Object-Type.html#GObject"
>GObject</a>   *object,
                                                        <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gint"
>gint</a>       error_no,
                                                        <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"
>gchar</a>     *error_msg,
                                                        <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gchar"
>gchar</a>     *debug_msg,
                                                        <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gpointer"
>gpointer</a>   user_data)      : Run Last</pre>
<p>
This signal is emitted in any error condition, it can be emitted on any
thread. Applications should listen to the GstBus for errors.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> <a class="link" href="FsSession.html" title="FsSession"><span class="type">FsSession</span></a> that emitted the signal
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>object</code></em>&#160;:</span></p></td>
<td> The <span class="type">Gobject</span> that emitted the signal
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error_no</code></em>&#160;:</span></p></td>
<td> The number of the error
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>error_msg</code></em>&#160;:</span></p></td>
<td> Error message to be displayed to user
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>debug_msg</code></em>&#160;:</span></p></td>
<td> Debugging error message
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2618097"></a><h3>
<a name="FsSession-new-negotiated-codecs"></a>The "new-negotiated-codecs" signal</h3>
<a class="indexterm" name="id2618106"></a><pre class="programlisting">void                user_function                      (<a class="link" href="FsSession.html" title="FsSession">FsSession</a> *self,
                                                        <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gpointer"
>gpointer</a>   user_data)      : Run Last</pre>
<p>
This signal is emitted when the negotiated codecs list has changed for this
session. This can happen when new remote codecs are added to the session
(i.e. When a session is being initialized or a new participant joins an
existing session). The user should look at the
<a class="link" href="FsSession.html#FsSession--negotiated-codecs"><span class="type">FsSession:negotiated-codecs</span></a> property to determine what the new
negotiated codec list is.</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> <a class="link" href="FsSession.html" title="FsSession"><span class="type">FsSession</span></a> that emitted the signal
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
<hr>
<div class="refsect2" lang="en">
<a name="id2618189"></a><h3>
<a name="FsSession-send-codec-changed"></a>The "send-codec-changed" signal</h3>
<a class="indexterm" name="id2618199"></a><pre class="programlisting">void                user_function                      (<a class="link" href="FsSession.html" title="FsSession">FsSession</a> *self,
                                                        <a
href="/usr/share/gtk-doc/html/glib/glib-Basic-Types.html#gpointer"
>gpointer</a>   user_data)      : Run Last</pre>
<p>
This signal is emitted when the active send codec has been changed
manually by the user or automatically for QoS purposes. The user should
look at the <a class="link" href="FsSession.html#FsSession--current-send-codec"><span class="type">FsSession:current-send-codec</span></a> property in the session to
determine what the new active codec is</p>
<p>

</p>
<div class="variablelist"><table border="0">
<col align="left" valign="top">
<tbody>
<tr>
<td><p><span class="term"><em class="parameter"><code>self</code></em>&#160;:</span></p></td>
<td> <a class="link" href="FsSession.html" title="FsSession"><span class="type">FsSession</span></a> that emitted the signal
</td>
</tr>
<tr>
<td><p><span class="term"><em class="parameter"><code>user_data</code></em>&#160;:</span></p></td>
<td>user data set when the signal handler was connected.</td>
</tr>
</tbody>
</table></div>
</div>
</div>
</div>
</body>
</html>
